# Установка и настройка ZooKeeper

Данный репозиторий содержит скрипт для автоматизированной установки и настройки ZooKeeper в кластере из 3 нод на базе AlmaLinux.

## Использование

1. Скопируйте скрипт `setup_zookeeper.sh` на сервер.
2. Сделайте скрипт исполняемым:
    ```bash
    chmod +x setup_zookeeper.sh
    ```
3. Запустите скрипт с указанием ID сервера в кластере (например, 1, 2 или 3):
    ```bash
    sudo ./setup_zookeeper.sh 1
    ```
    Где `1` — это уникальный идентификатор данного ZooKeeper-сервера в кластере.

## Что делает скрипт

- Устанавливает зависимости (Java, wget, tar)
- Создаёт пользователя и группу для ZooKeeper
- Скачивает и распаковывает ZooKeeper
- Настраивает конфигурацию кластера (файл `zoo.cfg` и `myid`) для **3-нодового кластера**
- Создаёт systemd-unit для ZooKeeper
- Запускает и включает сервис ZooKeeper

## Примечания

- Перед запуском убедитесь, что указанные IP-адреса серверов в конфиге актуальны для вашего кластера из 3 нод.
    Используется:
    ```
    server.1=10.100.10.1:2888:3888
    server.2=10.100.10.2:2888:3888
    server.3=10.100.10.3:2888:3888
    ```
- Для каждого сервера используйте свой уникальный ID (1, 2 или 3).

## Подробнее

- [Документация Apache ZooKeeper](https://zookeeper.apache.org/doc/current/)
